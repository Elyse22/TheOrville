[gd_scene load_steps=15 format=2]

[ext_resource path="res://Assets/AllCharacters/Characters/ClaireFinn.png" type="Texture" id=1]
[ext_resource path="res://Assets/AllCharacters/Characters/Lex.png" type="Texture" id=2]
[ext_resource path="res://Sets/Deck B w mess hall.png" type="Texture" id=3]
[ext_resource path="res://Src/NPC/NPC.tscn" type="PackedScene" id=4]
[ext_resource path="res://Character/Player.tscn" type="PackedScene" id=5]
[ext_resource path="res://Assets/StorageShelf1.tscn" type="PackedScene" id=6]
[ext_resource path="res://Assets/StorageShelf2.tscn" type="PackedScene" id=7]
[ext_resource path="res://Lift.tscn" type="PackedScene" id=8]
[ext_resource path="res://Assets/Railing.tscn" type="PackedScene" id=9]
[ext_resource path="res://Portal.gd" type="Script" id=10]
[ext_resource path="res://Deck B w Mess Hall.gd" type="Script" id=11]
[ext_resource path="res://RoomTrigger.tscn" type="PackedScene" id=12]
[ext_resource path="res://MessHallCollum1.tscn" type="PackedScene" id=13]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 4.94562, 10.0921 )

[node name="DeckB" type="Node2D"]
script = ExtResource( 11 )

[node name="Sprite" type="Sprite" parent="."]
position = Vector2( 449.052, -43.2607 )
texture = ExtResource( 3 )

[node name="YSort" type="YSort" parent="."]

[node name="Player" parent="YSort" instance=ExtResource( 5 )]
position = Vector2( 951.714, -188.176 )

[node name="StaticBody2D" parent="YSort" instance=ExtResource( 9 )]
position = Vector2( 314.311, 156.885 )
scale = Vector2( 1.01, 1.05 )

[node name="StaticBody2D2" parent="YSort" instance=ExtResource( 6 )]
position = Vector2( -149.526, 165.815 )

[node name="StaticBody2D3" parent="YSort" instance=ExtResource( 6 )]
position = Vector2( -212.041, 165.413 )

[node name="StaticBody2D4" parent="YSort" instance=ExtResource( 7 )]
position = Vector2( -170.846, 248.785 )

[node name="NPC" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( 867.294, -295.204 )
npc_name = "Lex"
dialogs = [ "Is it just me or is everything a bit..." ]
move_random = false

[node name="Sprite" parent="YSort/NPC" index="1"]
texture = ExtResource( 2 )

[node name="NPC2" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( 855.874, -209.351 )
npc_name = "Dr. Finn"
npc_texture = ExtResource( 1 )
dialogs = [ "Sick bay has been full of concerned crew members requesting psychological scans, they keep insisting that ‘everything is different’. ", "I needed to take a walk. But something does seem strange..." ]
move_random = false

[node name="Portal2" type="Area2D" parent="YSort"]
position = Vector2( 318.246, 188.163 )
collision_layer = 2
script = ExtResource( 10 )
next_scene_path = "res://Deck A1.tscn"
player_spawn_location = Vector2( 347, 225 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Portal2"]
position = Vector2( -9.67905, 9.32057 )
shape = SubResource( 1 )

[node name="StaticBody2D5" parent="YSort" instance=ExtResource( 13 )]
position = Vector2( 962.6, -258.45 )

[node name="StaticBody2D6" type="StaticBody2D" parent="YSort"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="YSort/StaticBody2D6"]
polygon = PoolVector2Array( 22.1693, 70.2903, 1.80573, 71.3523, 0.969391, 300.482, -47.9507, 299.646, -47.9986, 197.707, -77.44, 197.06, -79.3098, 269.123, -234.851, 268.705, -233.189, 152.735, -77.9646, 152.735, -77.7183, 171.68, -46.6962, 171.283, -47.1143, 61.7355, -71.4597, 61.0275, -71.71, 74.0454, -127.394, 72.6066, -126.975, 22.4322, -71.7835, 22.8503, -71.4597, 39.2476, -48.9287, 39.2476, -48.7869, 21.5959, 0.969421, 22.0141, 2.39185, 33.9904, 22.6697, 34.4911, 23.5482, 18.6691, 628.568, 19.9235, 625.573, -144.26, 832.472, -138.275, 836.155, -321.207, 923.536, -282.199, 927.717, -290.979, 928.894, -311.53, 947.103, -300.294, 956.595, -296.614, 981.002, -279.374, 1004.25, -252.835, 1022.66, -221.251, 1045.24, -159.37, 1053.99, -137.112, 1054.82, -105.753, 1052.73, -84.4295, 1045.63, -62.2693, 1028.48, -24.6386, 1000.05, 10.9013, 980.399, 29.7166, 962.42, 27.2079, 917.264, 61.4935, 834.927, 86.3997, 834.927, 60.6173, 787.046, 64.3006, 787.046, -56.017, 836.155, -52.3338, 837.383, -76.8885, 686.372, -81.7994, 681.251, 77.624, 535.09, 78.3282, 535.265, 83.9225, 519.006, 84.447, 501.873, 83.9225, 501.525, 78.2617, 342.832, 78.8248, 344.335, 90.4153, 386.895, 91.4221, 389.956, 226.75, 344.07, 227.825, 344.428, 233.202, 289.222, 232.127, 288.864, 226.033, 243.336, 226.391, 245.988, 90.5858, 290.788, 91.0688, 290.288, 77.5503, 23.1704, 78.5516, 22.4193, 72.7937, 15.66, 95.3247, 220.692, 108.092, 218.635, 238.812, 419.421, 233.124, 416.577, 98.3184, 834.927, 124.459, 1098.89, 77.8056, 1074.33, -187.384, 998.215, -373.999, 815.283, -407.148, 717.743, -204.244, 606.554, -206.682, 605.987, 10.7232, 321.587, 7.31042, -153.93, 4.46648, -151.654, 90.3553, -150.517, 115.951, -258.02, 119.933, -260.864, 294.554, -74.8662, 295.692, -73.7286, 327.545, 36.6186, 323.563, 21.8298, 115.382, 12.4012, 96.2075 )

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="YSort/StaticBody2D6"]
position = Vector2( -0.387451, 0.581146 )
polygon = PoolVector2Array( 960.883, -253.059, 966.06, -260.176, 966.668, -262.715, 1000.03, -217.147, 1010.06, -199.999, 1016.21, -178.646, 1024.3, -149.852, 1023, -145.97, 1022.68, -135.94, 1012, -135.293, 1008.44, -164.411, 996.472, -200.323, 983.53, -221.352, 961.854, -250.147, 954.089, -259.529, 960.236, -268.588, 967.443, -262.327 )

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="YSort/StaticBody2D6"]
visible = false
polygon = PoolVector2Array( 1012.54, -82.7003, 1007.64, -57.0405, 996.315, -24.5883, 980.844, 0.316864, 962.354, 25.222, 971.033, 27.8635, 974.806, 27.4861, 991.787, 5.59978, 998.957, -6.47545, 1008.77, -23.8336, 1019.71, -50.2482, 1021.98, -69.493, 1022.35, -83.8324 )

[node name="Lift" parent="." instance=ExtResource( 8 )]

[node name="RoomTrigger" parent="." instance=ExtResource( 12 )]
position = Vector2( -403.105, -55.1162 )

[node name="Popup" parent="RoomTrigger" index="1"]
margin_left = 472.644
margin_top = 30.0798
margin_right = 567.644
margin_bottom = 44.0798
text = "Locked"

[node name="RoomTrigger2" parent="." instance=ExtResource( 12 )]
position = Vector2( 22.1602, -53.5189 )

[node name="Popup" parent="RoomTrigger2" index="1"]
text = "Bortus' Quaters"

[node name="RoomTrigger3" parent="." instance=ExtResource( 12 )]
position = Vector2( 21.7421, 9.61667 )

[node name="Popup" parent="RoomTrigger3" index="1"]
margin_left = 457.092
margin_top = 34.5448
margin_right = 552.092
margin_bottom = 48.5448
text = "Science Lab"
[connection signal="body_entered" from="YSort/Portal2" to="YSort/Portal2" method="_on_Portal_body_entered"]
[connection signal="body_entered" from="RoomTrigger" to="RoomTrigger" method="_on_RoomTrigger_body_entered"]
[connection signal="body_exited" from="RoomTrigger" to="RoomTrigger" method="_on_RoomTrigger_body_exited"]
[connection signal="body_entered" from="RoomTrigger2" to="RoomTrigger2" method="_on_RoomTrigger2_body_entered"]
[connection signal="body_exited" from="RoomTrigger2" to="RoomTrigger2" method="_on_RoomTrigger2_body_exited"]
[connection signal="body_entered" from="RoomTrigger3" to="RoomTrigger3" method="_on_RoomTrigger3_body_entered"]
[connection signal="body_exited" from="RoomTrigger3" to="RoomTrigger3" method="_on_RoomTrigger3_body_exited"]

[editable path="YSort/NPC"]

[editable path="RoomTrigger"]

[editable path="RoomTrigger2"]

[editable path="RoomTrigger3"]
